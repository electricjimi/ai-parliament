# Parliament Simulation using OpenAI API

This project provides a simple simulation of a "mini Parliament" using the OpenAI API. It generates a set of parties, a group of agents (representatives), and simulates their deliberation and voting process on a given political issue. The idea is to explore how advanced language models (LLMs) can orchestrate virtual actors with different viewpoints, ideologies, and personalities.

## Features

- **Realistic Party Distribution:**  
  Uses a hypothetical distribution of parliamentary seats (in this demo, 10 total).  
  *(You can replace the hardcoded distribution with a real-time fetch from a service like "tavily" if available.)*

- **Party Personas:**  
  Generates multiple parties at once, each with its own persona describing its ideology, values, and style.

- **Agent Personas:**  
  Creates individual agents (representatives) for each seat, each with a unique twist on the party persona. All agent personas are generated at once to ensure diversity and consistency.

- **Opinion Formation:**  
  Each agent expresses an opinion on a given political issue, guided by their persona (used as a system prompt).

- **Coordinated Question:**  
  A coordinator agent analyzes all opinions and formulates a yes/no question that captures the core of the deliberation.

- **Voting:**  
  Each agent then receives all opinions and the final question, and decides "Yes" or "No" using their persona. No heuristic is involved—responses come directly from the language model.

- **Debug Mode:**  
  An optional debug mode prints all requests and responses to and from the OpenAI API, ensuring transparency and traceability.

## Usage

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/electricjimi/ai-parliament.git
   ```

2. **Install Dependencies:**
   ```bash
   pip install -r requirements.txt
   ```
   
3. **Set the API Key:**
   ```bash
   export OPENAI_API_KEY=your-api-key-here
   ```
   or use .env file.


4. **Run the Script:**
   ```bash
   python3 simulation.py
   ```
   
   By default, the script will:
   - Generate parties and their personas.
   - Generate agent personas.
   - Have agents express opinions on a given issue.
   - Have a coordinator create a yes/no question.
   - Have agents vote on the question.
   - Print out the opinions, the question, and the votes.

5. **Enabling Debug Mode:**
   If you’d like to see all prompts and responses to the OpenAI API, edit the code to set:
   ```python
   DEBUG = True
   ```
   in `simulation.py`.

## Customization

- **Changing the parties:**  
  Open `simulation.py` and modify the `nationality` variable to test different party generation policies (chosen deliberately by the LLM).

- **Altering the Distribution:**
  The current distribution is a placeholder. Update the `get_current_parliament_distribution()` function with real or different data.

- **Model Configuration:**
  Inside `query_openai()`, you can adjust the `model` (e.g., `gpt-40`) and `temperature` to influence the style and randomness of the outputs.

## Limitations & Notes

- The simulation is a simplification and should not be considered an accurate representation of the parliament, real political parties, or actual political processes.
- The personas, opinions, and voting decisions are generated by a language model and may vary between runs.
- Costs will be incurred for each OpenAI API call. Consider API usage limits and pricing before experimenting extensively.
